<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="Digg - AI-powered company research platform that helps job seekers make informed career decisions through comprehensive company intelligence reports.">
    <title>Digg - AI-Powered Company Research Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <meta property="og:title" content="Digg - AI-Powered Company Research Platform">
    <meta property="og:description" content="Make informed career decisions with AI-powered company intelligence">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://getdigg.ai">
    <meta property="og:image" content="https://getdigg.ai/og-image.jpg">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Include html2pdf.js library for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style type="text/css">
        /* Tailwind CSS v3.4.17 | MIT License | https://tailwindcss.com */
        *, ::before, ::after { box-sizing: border-box; border-width: 0; border-style: solid; border-color: currentColor; --tw-translate-x: 0; /* ... other Tailwind resets ... */ }
        html, :host { line-height: 1.5; -webkit-text-size-adjust: 100%; font-family: Poppins, system-ui, sans-serif; /* ... */ }
        body { margin: 0; line-height: inherit; }
        html, body { scroll-behavior: smooth; overflow-x: hidden; } /* Prevents horizontal scrolling */

        :root {
            --radius: 12px;
            --shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
            --primary-rgb: 11, 110, 140;
            --secondary-rgb: 140, 45, 156;
            --accent-rgb: 255, 87, 87;
            --primary: rgb(var(--primary-rgb));
            --primary-light: rgb(29, 159, 199);
            --secondary: rgb(var(--secondary-rgb));
            --accent: rgb(var(--accent-rgb));
            --color-bg: #f9f9f9;
            --color-text: #252525;
            --color-border: #eaeced;
        }

        body { background-color: var(--color-bg); font-family: 'Poppins', sans-serif; color: var(--color-text); }
        * { border-color: var(--color-border); }
        .container { width: 100%; margin-left: auto; margin-right: auto; padding-left: 1rem; padding-right: 1rem; }
        @media (min-width: 640px) { .container { max-width: 640px; } }
        @media (min-width: 768px) { .container { max-width: 768px; } }
        @media (min-width: 1024px) { .container { max-width: 1024px; } }
        @media (min-width: 1280px) { .container { max-width: 1280px; } }
        @media (min-width: 1536px) { .container { max-width: 1536px; } }

        .shadow-digg { box-shadow: var(--shadow); }
        .rounded-digg { border-radius: var(--radius); }
        
        .bg-primary { background-color: var(--primary); }
        .text-primary { color: var(--primary); }
        .hover\:bg-primary-light:hover { background-color: var(--primary-light); }
        .hover\:text-primary-light:hover { color: var(--primary-light); }
        .bg-secondary { background-color: var(--secondary); }
        .text-secondary { color: var(--secondary); }
        .bg-accent { background-color: var(--accent); }
        .text-accent { color: var(--accent); }
        .fill-accent { fill: var(--accent); }
        .bg-dark { background-color: var(--color-text); } 
        .text-dark { color: var(--color-text); }
        .bg-light { background-color: var(--color-bg); } 
        
        .bg-primary\/10 { background-color: rgba(var(--primary-rgb), 0.1); }
        .bg-primary\/5 { background-color: rgba(var(--primary-rgb), 0.05); }
        .bg-primary\/20 { background-color: rgba(var(--primary-rgb), 0.2); }
        .bg-primary\/30 { background-color: rgba(var(--primary-rgb), 0.3); }
        .border-primary\/20 { border-color: rgba(var(--primary-rgb), 0.2); }
        .bg-secondary\/5 { background-color: rgba(var(--secondary-rgb), 0.05); }
        .bg-secondary\/20 { background-color: rgba(var(--secondary-rgb), 0.2); }
        .border-secondary\/20 { border-color: rgba(var(--secondary-rgb), 0.2); }
        .bg-accent\/5 { background-color: rgba(var(--accent-rgb), 0.05); }
        .bg-accent\/20 { background-color: rgba(var(--accent-rgb), 0.2); }
        .border-accent\/20 { border-color: rgba(var(--accent-rgb), 0.2); }

        .bg-gradient-to-r { background-image: linear-gradient(to right, var(--tw-gradient-stops)); }
        .from-primary { --tw-gradient-from: var(--primary) var(--tw-gradient-from-position); --tw-gradient-to: rgba(var(--primary-rgb), 0) var(--tw-gradient-to-position); --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to); }
        .to-secondary { --tw-gradient-to: var(--secondary) var(--tw-gradient-to-position); }
        .from-secondary { --tw-gradient-from: var(--secondary) var(--tw-gradient-from-position); --tw-gradient-to: rgba(var(--secondary-rgb), 0) var(--tw-gradient-to-position); --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to); }
        .to-primary { --tw-gradient-to: var(--primary) var(--tw-gradient-to-position); }
        .from-accent { --tw-gradient-from: var(--accent) var(--tw-gradient-from-position); --tw-gradient-to: rgba(var(--accent-rgb), 0) var(--tw-gradient-to-position); --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to); }
        .to-accent { --tw-gradient-to: var(--accent) var(--tw-gradient-to-position); }
        .from-primary\/30 { --tw-gradient-from: rgba(var(--primary-rgb), 0.3) var(--tw-gradient-from-position); --tw-gradient-to: rgba(var(--primary-rgb),0) var(--tw-gradient-to-position); --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to); }
        .to-primary\/10 { --tw-gradient-to: rgba(var(--primary-rgb), 0.1) var(--tw-gradient-to-position); }
        .from-secondary\/30 { --tw-gradient-from: rgba(var(--secondary-rgb), 0.3) var(--tw-gradient-from-position); --tw-gradient-to: rgba(var(--secondary-rgb),0) var(--tw-gradient-to-position); --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to); }
        .to-secondary\/10 { --tw-gradient-to: rgba(var(--secondary-rgb), 0.1) var(--tw-gradient-to-position); }
        .bg-gradient-to-br { background-image: linear-gradient(to bottom right, var(--tw-gradient-stops)); }
        .to-primary\/60 { --tw-gradient-to: rgba(var(--primary-rgb), 0.6) var(--tw-gradient-to-position); }
        .to-secondary\/60 { --tw-gradient-to: rgba(var(--secondary-rgb), 0.6) var(--tw-gradient-to-position); }
        .to-accent\/60 { --tw-gradient-to: rgba(var(--accent-rgb), 0.6) var(--tw-gradient-to-position); }
        .to-primary\/80 { --tw-gradient-to: rgba(var(--primary-rgb), 0.8) var(--tw-gradient-to-position); }
        .to-secondary\/80 { --tw-gradient-to: rgba(var(--secondary-rgb), 0.8) var(--tw-gradient-to-position); }
        .to-accent\/80 { --tw-gradient-to: rgba(var(--accent-rgb), 0.8) var(--tw-gradient-to-position); }
        .bg-gradient-to-b { background-image: linear-gradient(to bottom, var(--tw-gradient-stops)); }
        .from-light { --tw-gradient-from: var(--color-bg) var(--tw-gradient-from-position); --tw-gradient-to: rgba(249,249,249,0) var(--tw-gradient-to-position); --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to); }
        .via-light { --tw-gradient-to: rgba(249,249,249,0) var(--tw-gradient-to-position); --tw-gradient-stops: var(--tw-gradient-from), var(--color-bg) var(--tw-gradient-via-position), var(--tw-gradient-to); }
        .bg-gradient-to-t { background-image: linear-gradient(to top, var(--tw-gradient-stops)); }
        .from-black\/80 { --tw-gradient-from: rgba(0,0,0,0.8) var(--tw-gradient-to-position); --tw-gradient-to: rgba(0,0,0,0) var(--tw-gradient-to-position); --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to); }
        .to-transparent { --tw-gradient-to: transparent var(--tw-gradient-to-position); }
        .bg-gradient-to-tr { background-image: linear-gradient(to top right, var(--tw-gradient-stops)); }
        .from-black\/40 { --tw-gradient-from: rgba(0,0,0,0.4) var(--tw-gradient-to-position); --tw-gradient-to: rgba(0,0,0,0) var(--tw-gradient-to-position); --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to); }
        .to-black\/10 { --tw-gradient-to: rgba(0,0,0,0.1) var(--tw-gradient-to-position); }
        .bg-clip-text { -webkit-background-clip: text; background-clip: text; }
        .text-transparent { color: transparent; }

        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in-up { animation: fadeInUp 0.8s ease-out forwards; opacity: 0; }
        .animate-visible { opacity: 1; transform: translateY(0); }
        .animate-delay-100 { animation-delay: 100ms; } .animate-delay-200 { animation-delay: 200ms; } .animate-delay-300 { animation-delay: 300ms; } .animate-delay-400 { animation-delay: 400ms; } .animate-delay-500 { animation-delay: 500ms; } .animate-delay-600 { animation-delay: 600ms; } .animate-delay-700 { animation-delay: 700ms; }
        @keyframes pulseGlow { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.85; transform: scale(1.05); } }
        .animate-pulse-slow { animation: pulseGlow 7s ease-in-out infinite; }
        .animate-pulse-soft { animation: pulseGlow 3s ease-in-out infinite; }

        .mobile-menu-hidden { display: none; } .mobile-menu-visible { display: block; }
        .how-it-works-step-title span { background-image: linear-gradient(to right, var(--tw-gradient-from), var(--tw-gradient-to)); -webkit-background-clip: text; background-clip: text; color: transparent; }
        .how-it-works-step-title.text-primary span { --tw-gradient-from: var(--primary); --tw-gradient-to: rgba(var(--primary-rgb), 0.7); }
        .how-it-works-step-title.text-secondary span { --tw-gradient-from: var(--secondary); --tw-gradient-to: rgba(var(--secondary-rgb), 0.7); }
        .how-it-works-step-title.text-accent span { --tw-gradient-from: var(--accent); --tw-gradient-to: rgba(var(--accent-rgb), 0.7); }

        #search-tips-container { opacity: 0; transform: translateY(20px); transition: opacity 0.7s ease-out, transform 0.7s ease-out; }
        #search-tips-container.tips-visible { opacity: 1; transform: translateY(0); }
        .search-tip-item { opacity: 0; transform: translateY(10px); transition: opacity 0.5s ease-out, transform 0.5s ease-out; }
        .search-tip-item.tip-visible { opacity: 1; transform: translateY(0); }
        .search-tips-card { background-color: rgba(255, 255, 255, 0.8); backdrop-filter: blur(12px); border: 1px solid rgba(var(--primary-rgb), 0.25); box-shadow: 0 8px 32px 0 rgba(var(--primary-rgb), 0.15); }
        .search-tips-card h3 { background: linear-gradient(to right, var(--primary), var(--secondary)); -webkit-background-clip: text; background-clip: text; color: transparent; }
        .search-tip-item svg { transition: transform 0.3s ease-in-out; }
        .search-tip-item:hover svg { transform: scale(1.2) rotate(5deg); }
        .search-tip-item p { transition: color 0.3s ease; }
        .search-tip-item:hover p { color: var(--primary); }
        .search-tips-card h3::after { content: ''; display: block; width: 50px; height: 2px; background: linear-gradient(to right, var(--primary), var(--secondary)); margin: 8px auto 0; opacity: 0.7; }

        .surreal-feature-card-wrapper { perspective: 1000px; }
        .surreal-feature-card {
            background-color: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3); border-radius: var(--radius);
            padding: 2rem;
            transition: transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
            transform-style: preserve-3d; position: relative; overflow: hidden;
            min-height: 300px; display: flex; flex-direction: column;
        }
        .surreal-feature-card::before {
            content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            border-radius: var(--radius);
            background: linear-gradient(135deg, rgba(var(--card-aurora-color, var(--primary-rgb)), 0.3) 0%, rgba(var(--card-aurora-color, var(--primary-rgb)), 0.1) 50%, rgba(var(--card-aurora-color, var(--primary-rgb)), 0.3) 100%);
            background-size: 300% 300%; opacity: 0; z-index: 0;
            transition: opacity 0.7s ease-in-out; animation: auroraMovement 12s ease infinite alternate;
        }
        .surreal-feature-card.card-primary::before { --card-aurora-color: var(--primary-rgb); }
        .surreal-feature-card.card-secondary::before { --card-aurora-color: var(--secondary-rgb); }
        .surreal-feature-card.card-accent::before { --card-aurora-color: var(--accent-rgb); }
        @keyframes auroraMovement { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        @keyframes iconPulse { 0%, 100% { filter: drop-shadow(0 0 3px rgba(255,255,255,0.5)); transform: scale(1); } 50% { filter: drop-shadow(0 0 10px rgba(255,255,255,0.8)); transform: scale(1.1); } }
        .surreal-feature-card:hover { transform: translateY(-10px) rotateX(5deg) rotateY(-3deg) scale(1.03); box-shadow: 0 20px 40px rgba(0,0,0,0.2), 0 0 15px rgba(var(--card-aurora-color, var(--primary-rgb)), 0.5); }
        .surreal-feature-card:hover::before { opacity: 1; }
        .surreal-icon-container {
            width: 4rem; height: 4rem; border-radius: 0.75rem; display: flex; align-items: center; justify-content: center;
            margin-bottom: 1.5rem; position: relative; z-index: 1;
            transition: transform 0.4s ease-out, filter 0.4s ease-out;
        }
        .surreal-feature-card:hover .surreal-icon-container { transform: translateY(-8px) scale(1.1); }
        .surreal-feature-card:hover .surreal-icon-container svg { animation: iconPulse 1.5s ease-in-out infinite; }
        .surreal-content { position: relative; z-index: 1; flex-grow: 1; display: flex; flex-direction: column; }
        .surreal-content h3 { font-size: 1.25rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--color-text); transition: color 0.3s ease; }
        .surreal-feature-card:hover .surreal-content h3 { color: var(--primary); }
        .surreal-feature-card.card-primary:hover .surreal-content h3 { color: var(--primary); }
        .surreal-feature-card.card-secondary:hover .surreal-content h3 { color: var(--secondary); }
        .surreal-feature-card.card-accent:hover .surreal-content h3 { color: var(--accent); }
        .surreal-content p { font-size: 0.95rem; line-height: 1.6; color: #4A5568; flex-grow: 1; }
        .surreal-feature-card:hover .surreal-content p { color: var(--color-text); }

        /* Styles for LLM Report Output */
        #searchResultsContent .report-main-title, #company1Report .report-main-title, #company2Report .report-main-title { 
            font-size: 1.5rem; 
            font-weight: 700; 
            color: var(--primary);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary-light);
        }
        #searchResultsContent .report-section, 
        #company1Report .report-section, #company2Report .report-section,
        .accordion-content .report-section { /* Added .accordion-content */
            margin-bottom: 1.5rem; 
            padding-bottom: 1rem;
        }
        #searchResultsContent .report-section:not(:last-child),
        #company1Report .report-section:not(:last-child),
        #company2Report .report-section:not(:last-child),
        .accordion-content .report-section:not(:last-child) { /* Added .accordion-content */
             border-bottom: 1px dashed var(--color-border); 
        }
         #searchResultsContent .report-section:last-child,
         #company1Report .report-section:last-child,
         #company2Report .report-section:last-child,
         .accordion-content .report-section:last-child { /* Added .accordion-content */
            border-bottom: none;
            margin-bottom: 0;
        }
        #searchResultsContent .section-title, 
        #company1Report .section-title, #company2Report .section-title,
        .accordion-content .section-title { /* Added .accordion-content */
            font-size: 1.25rem; 
            font-weight: 600; 
            color: var(--secondary);
            margin-bottom: 0.75rem; 
            padding-bottom: 0.25rem;
            border-bottom: 1px solid rgba(var(--secondary-rgb), 0.3);
        }
        #searchResultsContent .subsection-title, 
        #company1Report .subsection-title, #company2Report .subsection-title,
        .accordion-content .subsection-title { /* Added .accordion-content */
            font-size: 1rem; 
            font-weight: 600; 
            color: var(--primary-light);
            margin-top: 0.75rem; 
            margin-bottom: 0.25rem; 
        }
        #searchResultsContent p, #searchResultsContent li, 
        #company1Report p, #company1Report li, 
        #company2Report p, #company2Report li,
        .accordion-content p, .accordion-content li { /* Added .accordion-content */
            margin-bottom: 0.5rem; 
            white-space: pre-wrap; 
            line-height: 1.65;
            color: #374151; 
        }
        #searchResultsContent ul, #company1Report ul, #company2Report ul,
        .accordion-content ul { /* Added .accordion-content */
            list-style-type: disc;
            padding-left: 1.5rem; 
            margin-bottom: 1rem;
        }
        #searchResultsContent strong, #company1Report strong, #company2Report strong,
        .accordion-content strong { /* Added .accordion-content */
             color: var(--color-text); 
             font-weight: 500; 
        }
        #searchResultsContent .citation, #company1Report .citation, #company2Report .citation,
        .accordion-content .citation { /* Added .accordion-content */
            font-size: 0.8em;
            color: #6b7280; 
            margin-left: 0.25rem;
        }
        #searchResultsContent .integrity-statement-section, 
        #company1Report .integrity-statement-section, 
        #company2Report .integrity-statement-section,
        .accordion-content .integrity-statement-section { /* Added .accordion-content */
            font-size: 0.875rem; 
            color: #4b5563; 
            margin-top: 1.5rem; 
            padding-top: 0.75rem; 
            border-top: 1px solid var(--color-border);
        }
        #searchResultsContent .integrity-statement-section p,
        #company1Report .integrity-statement-section p,
        #company2Report .integrity-statement-section p,
        .accordion-content .integrity-statement-section p { /* Added .accordion-content */
            font-size: 0.875rem; 
             margin-bottom: 0.25rem;
        }
        #searchResultsContent .source-link, #company1Report .source-link, #company2Report .source-link,
        .accordion-content .source-link { /* Added .accordion-content */
            color: var(--primary);
            text-decoration: underline;
        }
         #searchResultsContent .source-link:hover, 
         #company1Report .source-link:hover, 
         #company2Report .source-link:hover,
         .accordion-content .source-link:hover { /* Added .accordion-content */
            color: var(--primary-light);
        }
        #searchResultsContent .data-na, #company1Report .data-na, #company2Report .data-na,
        .accordion-content .data-na { /* Added .accordion-content */
            color: #9ca3af; 
            font-style: italic;
        }
        /* Specific styling for comparison view columns */
        #company1Report, #company2Report {
            max-height: 100vh; /* Example max height */
            overflow-y: auto; /* Allow scrolling within each report column */
        }
        /* Styles for PDF content (optional, for print-specific adjustments) */
        @media print {
            body {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
                background-color: #ffffff !important; /* Ensure white background for PDF */
            }
            /* Adjust margins and layout for A4 print, though html2pdf handles much of this */
            .report-section {
                break-inside: avoid; /* Avoid breaking sections across pages where possible */
            }
            .no-print {
                display: none !important;
            }
        }

        /* Loading Overlay Styles */
        #pdfLoadingOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999; /* Ensure it's on top of everything */
            transition: opacity 0.3s ease-in-out;
            opacity: 0;
            visibility: hidden;
        }

        #pdfLoadingOverlay.visible {
            opacity: 1;
            visibility: visible;
        }

        #pdfLoadingContent {
            background-color: white;
            padding: 30px 40px;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
            color: #252525;
        }

        #pdfLoadingContent .spinner {
            border: 4px solid rgba(var(--primary-rgb), 0.2);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Accordion Specific Styles */
        .accordion-item {
            border: 1px solid var(--color-border);
            border-radius: var(--radius);
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .accordion-header {
            background-color: #ffffff;
            padding: 1rem 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: var(--color-text);
            transition: background-color 0.2s ease, color 0.2s ease;
            border-bottom: 1px solid transparent; /* default */
        }

        .accordion-header:hover {
            background-color: var(--primary-light);
            color: white;
        }
        .accordion-header.active {
            background-color: var(--primary);
            color: white;
            border-bottom-color: var(--primary-light);
        }

        .accordion-header .arrow-icon {
            transition: transform 0.3s ease;
        }

        .accordion-header.active .arrow-icon {
            transform: rotate(180deg);
        }

        .accordion-content {
            background-color: #fcfcfc;
            border-top: 1px solid var(--color-border);
            padding: 0 1.5rem; /* No vertical padding initially */
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
        }

        .accordion-content.open {
            max-height: 2000px; /* Arbitrarily large value for smooth transition */
            padding: 1.5rem;
        }

        .company-comparison-column {
            background-color: #fff;
            border: 1px solid var(--color-border);
            border-radius: var(--radius);
            padding: 1.25rem;
            margin-bottom: 1rem; /* Space between columns on small screens */
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .company-comparison-column h6 {
            color: var(--primary); /* Consistent color for company titles in comparison */
            font-size: 1.125rem;
            margin-bottom: 0.75rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px dashed rgba(var(--primary-rgb), 0.2);
        }
        @media (min-width: 768px) {
            .company-comparison-column {
                margin-bottom: 0; /* Remove margin between columns on larger screens */
            }
        }
    </style>
</head>
<body>
    <div id="root" class="overflow-x-hidden">
        <div class="flex flex-col min-h-screen">
            <header class="fixed top-0 left-0 right-0 bg-white shadow-digg z-50 no-print">
                <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                    <a href="/" class="flex items-center">
                        <div class="flex items-center">
                            <div class="mr-2 w-8 h-8">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-full h-full">
                                    <path fill="var(--accent)" d="M12 2L2 12l10 10 10-10L12 2zM12 18L6 12l6-6 6 6z"></path>
                                </svg>
                            </div>
                            <span class="font-bold text-2xl text-primary">Digg</span>
                        </div>
                    </a>
                    <nav class="hidden md:flex items-center space-x-8">
                        <a href="/" class="text-primary font-medium hover:text-primary-light transition-colors">Home</a>
                        <a href="javascript:void(0);" id="nav-companies-desktop" class="text-dark font-medium hover:text-primary-light transition-colors">Companies</a>
                        <a href="#features" class="text-dark font-medium hover:text-primary-light transition-colors">Features</a>
                        <a href="#how-it-works" class="text-dark font-medium hover:text-primary-light transition-colors">How It Works</a>
                    </nav>
                    <div class="flex items-center space-x-4">
                        <a href="javascript:void(0);" id="nav-get-started-desktop-link">
                            <button id="nav-get-started-desktop-button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 h-10 px-4 py-2 bg-primary text-white hover:bg-primary-light transition-colors">Get Started</button>
                        </a>
                        <button id="mobile-menu-button" class="md:hidden text-dark" aria-label="Toggle mobile menu">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-6 w-6">
                                <line x1="4" x2="20" y1="12" y2="12"></line>
                                <line x1="4" x2="20" y1="6" y2="6"></line>
                                <line x1="4" x2="20" y1="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                </div>
                <div id="mobile-menu" class="md:hidden bg-white w-full pb-4 px-4 mobile-menu-hidden">
                    <nav class="flex flex-col space-y-4">
                        <a href="/" class="text-primary font-medium py-2">Home</a>
                        <a href="javascript:void(0);" id="nav-companies-mobile" class="text-dark font-medium py-2">Companies</a>
                        <a href="#features" id="nav-features-mobile" class="text-dark font-medium py-2">Features</a>
                        <a href="#how-it-works" id="nav-how-it-works-mobile" class="text-dark font-medium py-2">How It Works</a>
                        <a href="javascript:void(0);" id="nav-get-started-mobile" class="text-dark font-medium py-2">Get Started</a>
                    </nav>
                </div>
            </header>

            <main class="flex-grow pt-16">
                <!-- Main content of the page -->
                <section id="search-section" class="relative overflow-hidden py-16 md:py-24 bg-white">
                    <div class="absolute inset-0 z-0 opacity-10">
                        <svg class="absolute inset-0 h-full w-full" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="none">
                            <defs>
                                <pattern id="smallGrid" width="30" height="30" patternUnits="userSpaceOnUse">
                                    <path d="M 30 0 L 0 0 0 30" fill="none" stroke="currentColor" stroke-width="0.5"></path>
                                </pattern>
                                <pattern id="grid" width="120" height="120" patternUnits="userSpaceOnUse">
                                    <rect width="120" height="120" fill="url(#smallGrid)"></rect>
                                    <path d="M 120 0 L 0 0 0 120" fill="none" stroke="currentColor" stroke-width="1"></path>
                                </pattern>
                            </defs>
                            <rect width="100%" height="100%" fill="url(#grid)"></rect>
                        </svg>
                    </div>
                    <div class="container mx-auto px-4 relative z-10">
                        <div class="max-w-4xl mx-auto text-center mb-12 animate-fade-in-up">
                            <h1 class="text-4xl md:text-5xl font-bold mb-6 leading-tight">Make informed career decisions with <span class="text-primary">AI-powered</span> company intelligence</h1>
                            <p class="text-lg md:text-xl text-gray-700 mb-8">Digg synthesizes public data to provide comprehensive company research, helping job seekers find their perfect match.</p>
                            <div class="max-w-2xl mx-auto mt-8">
                                <form class="w-full" id="companySearchForm">
                                    <div class="relative flex items-center bg-white border border-gray-300 rounded-digg shadow-digg overflow-hidden focus-within:ring-2 focus-within:ring-primary focus-within:border-primary transition duration-150 ease-in-out">
                                        <div class="absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-500">
                                                <circle cx="11" cy="11" r="8"></circle>
                                                <path d="m21 21-4.3-4.3"></path>
                                            </svg>
                                        </div>
                                        <input type="search"
                                               name="company_search"
                                               id="company_search_input"
                                               class="block w-full py-4 pl-12 pr-3 text-lg text-gray-900 placeholder-gray-500 border-0 focus:ring-0 focus:outline-none"
                                               placeholder="Search for a company (e.g., Google, Microsoft, OpenAI)"
                                               aria-label="Search for a company">
                                        <button type="submit" aria-label="Search" class="px-6 py-4 bg-primary text-white hover:bg-primary-light transition-colors duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right h-6 w-6">
                                                <line x1="5" y1="12" x2="19" y2="12"></line>
                                                <polyline points="12 5 19 12 12 19"></polyline>
                                            </svg>
                                        </button>
                                    </div>
                                </form>

                                <div id="loadingIndicator" class="mt-4 text-center hidden">
                                    <div class="flex justify-center items-center space-x-2">
                                        <svg class="animate-spin h-5 w-5 text-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                        </svg>
                                        <p class="text-primary font-medium">CIRA is compiling a comprehensive intelligence briefing... This may take a few moments.</p>
                                    </div>
                                </div>

                                <div id="searchResultsContainer" class="mt-8 p-6 bg-white rounded-digg shadow-digg hidden text-left">
                                    <div class="flex justify-between items-center mb-6">
                                        <h3 class="text-2xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">CIRA Intelligence Briefing</h3>
                                        <div class="flex items-center space-x-2 no-print">
                                            <!-- Save as PDF Button for single report -->
                                            <button id="saveSinglePdfButton" aria-label="Save as PDF" class="text-gray-500 hover:text-green-500 transition-colors p-2 rounded-full hover:bg-gray-100">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path></svg>
                                            </button>
                                            <button id="closeResultsButton" aria-label="Close Report" class="text-gray-500 hover:text-red-500 transition-colors p-2 rounded-full hover:bg-gray-100">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                                            </button>
                                        </div>
                                    </div>
                                    <div id="searchResultsContent" class="text-gray-700">
                                        <!-- Search results will be injected here -->
                                    </div>
                                </div>
                                
                                <div id="search-tips-container" class="max-w-2xl mx-auto mt-8">
                                    <div class="search-tips-card p-6 rounded-lg">
                                        <h3 class="text-xl font-semibold mb-4 text-center">Search Tips</h3>
                                        <ul class="space-y-4 text-left">
                                            <li class="flex items-start space-x-3 search-tip-item">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-text-cursor-input shrink-0 text-primary mt-1"><path d="M5 4h1a3 3 0 0 1 3 3 3 3 0 0 1 3-3h1"/><path d="M12 20h-1a3 3 0 0 1-3-3 3 3 0 0 1-3 3H4"/><path d="M5 12h14"/></svg>
                                                <p class="text-sm text-gray-600">Use the <strong>full company name</strong> for the most accurate results.</p>
                                            </li>
                                            <li class="flex items-start space-x-3 search-tip-item">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-pin shrink-0 text-primary mt-1"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                                                <p class="text-sm text-gray-600">Include <strong>industry or location</strong> if the company has a common name (e.g., "Apex Fintech" or "Bloomfield NJ").</p>
                                            </li>
                                            <li class="flex items-start space-x-3 search-tip-item">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-spell-check shrink-0 text-primary mt-1"><path d="m6 16 6-12 6 12"/><path d="M14 14 9 22"/></svg>
                                                <p class="text-sm text-gray-600">Check your <strong>spelling</strong> to ensure accurate search results.</p>
                                            </li>
                                            <li class="flex items-start space-x-3 search-tip-item">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sparkles shrink-0 text-primary mt-1"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>
                                                <p class="text-sm text-gray-600">For recent <strong>startups</strong>, consider searching by <strong>founder names</strong> if the company name yields no results.</p>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- NEW Company Comparison Section -->
                <section id="compare-section" class="py-16 md:py-24 bg-gray-50">
                    <div class="container mx-auto px-4">
                        <div class="max-w-4xl mx-auto text-center mb-12 animate-fade-in-up">
                            <h2 class="text-3xl md:text-4xl font-bold mb-6 text-primary">Compare Companies Side-by-Side</h2>
                            <p class="text-lg md:text-xl text-gray-700 mb-8">Get detailed intelligence reports for two companies and compare them directly to make the best career decision.</p>
                        </div>
                        <form id="companyComparisonForm" class="max-w-3xl mx-auto animate-fade-in-up animate-delay-100">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                <div>
                                    <label for="company1_compare_input" class="block text-sm font-medium text-gray-700 mb-1">Company 1</label>
                                    <input type="search" id="company1_compare_input" class="block w-full py-3 px-4 text-md text-gray-900 placeholder-gray-500 border border-gray-300 rounded-digg shadow-sm focus:ring-primary focus:border-primary transition-colors" placeholder="Enter first company name">
                                </div>
                                <div>
                                    <label for="company2_compare_input" class="block text-sm font-medium text-gray-700 mb-1">Company 2</label>
                                    <input type="search" id="company2_compare_input" class="block w-full py-3 px-4 text-md text-gray-900 placeholder-gray-500 border border-gray-300 rounded-digg shadow-sm focus:ring-primary focus:border-primary transition-colors" placeholder="Enter second company name">
                                </div>
                            </div>
                            <div class="text-center">
                                <button type="submit" id="compareCompaniesButton" class="px-8 py-3 bg-secondary text-white rounded-digg hover:opacity-90 transition-opacity duration-150 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-secondary focus-visible:ring-offset-2 font-semibold text-lg">
                                    Compare Companies
                                </button>
                            </div>
                        </form>
    
                        <!-- Comparison Loading Indicator -->
                        <div id="comparisonLoadingIndicator" class="mt-8 text-center hidden animate-fade-in-up">
                            <div class="flex justify-center items-center space-x-2">
                                <svg class="animate-spin h-6 w-6 text-secondary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                                <p class="text-secondary font-medium text-lg">CIRA is generating comparison reports... This may take some time.</p>
                            </div>
                        </div>
    
                        <!-- Comparison Results Container -->
                        <div id="comparisonResultsContainer" class="mt-12 hidden animate-fade-in-up">
                            <div class="flex justify-between items-center mb-6">
                                 <h3 class="text-2xl md:text-3xl font-bold bg-gradient-to-r from-secondary to-accent bg-clip-text text-transparent">Company Comparison</h3>
                                 <div class="flex items-center space-x-2 no-print">
                                    <button id="closeComparisonButton" aria-label="Close Comparison" class="text-gray-500 hover:text-red-500 transition-colors p-2 rounded-full hover:bg-gray-100">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                                    </button>
                                 </div>
                            </div>
                            <div id="comparisonAccordionContainer" class="mt-4">
                                <!-- Accordion items will be generated here by JavaScript -->
                            </div>
                        </div>
                    </div>
                </section>


                <section id="features" class="relative py-20 md:py-32 overflow-hidden">
                    <div class="absolute inset-0 bg-gradient-to-b from-light via-light to-primary/5 z-0"></div>
                    <div class="absolute inset-0 opacity-30 z-0" style="background-image: radial-gradient(circle at 25px 25px, rgb(234, 237, 242) 2px, transparent 0px); background-size: 50px 50px;"></div>
                    <div class="absolute top-20 left-10 w-64 h-64 rounded-full bg-primary/5 blur-3xl z-0 animate-pulse-slow"></div>
                    <div class="absolute bottom-40 right-10 w-80 h-80 rounded-full bg-secondary/5 blur-3xl z-0 animate-pulse-slow" style="animation-delay: 1500ms;"></div>
                    <div class="container relative z-10 mx-auto px-4">
                        <div class="max-w-4xl mx-auto text-center mb-20 animate-fade-in-up">
                            <span class="inline-block px-6 py-2 rounded-full bg-gradient-to-r from-primary/30 to-primary/10 text-primary font-medium text-sm mb-6 shadow-md">Features</span>
                            <h2 class="text-4xl md:text-5xl font-bold mb-8 bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">Everything you need to research companies</h2>
                            <p class="text-lg md:text-xl text-gray-700 leading-relaxed">Our AI-powered platform gathers and synthesizes information from various public sources to provide you with comprehensive company intelligence.</p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-10">
                            <div class="animate-fade-in-up animate-delay-100 h-full surreal-feature-card-wrapper">
                                <div class="surreal-feature-card card-primary">
                                    <div class="surreal-icon-container bg-gradient-to-br from-primary/20 to-primary/5 shadow-lg shadow-primary/10">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search-check">
                                            <path d="m8 11 2 2 4-4"></path><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path>
                                        </svg>
                                    </div>
                                     <div class="surreal-content">
                                        <h3>Comprehensive Research</h3>
                                        <p>Access detailed reports on company fundamentals, culture, strategy, and more, all in one place.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="animate-fade-in-up animate-delay-200 h-full surreal-feature-card-wrapper">
                                <div class="surreal-feature-card card-secondary">
                                    <div class="surreal-icon-container bg-gradient-to-br from-secondary/20 to-secondary/5 shadow-lg shadow-secondary/10">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="var(--secondary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-brain">
                                            <path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"></path><path d="M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"></path><path d="M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"></path><path d="M17.599 6.5a3 3 0 0 0 .399-1.375"></path><path d="M6.003 5.125A3 3 0 0 0 6.401 6.5"></path><path d="M3.477 10.896a4 4 0 0 1 .585-.396"></path><path d="M19.938 10.5a4 4 0 0 1 .585.396"></path><path d="M6 18a4 4 0 0 1-1.967-.516"></path><path d="M19.967 17.484A4 4 0 0 1 18 18"></path>
                                        </svg>
                                    </div>
                                    <div class="surreal-content">
                                        <h3>AI-Powered Insights</h3>
                                        <p>Our AI synthesizes information from multiple sources to provide accurate and up-to-date company intelligence.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="animate-fade-in-up animate-delay-300 h-full surreal-feature-card-wrapper">
                                <div class="surreal-feature-card card-accent">
                                    <div class="surreal-icon-container bg-gradient-to-br from-accent/20 to-accent/5 shadow-lg shadow-accent/10">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-filter">
                                            <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
                                        </svg>
                                    </div>
                                    <div class="surreal-content">
                                        <h3>Smart Filtering</h3>
                                        <p>Filter companies by industry, size, location, and more to find the perfect match for your career goals.</p>
                                    </div>
                                </div>
                            </div>
                             <div class="animate-fade-in-up animate-delay-400 h-full surreal-feature-card-wrapper">
                               <div class="surreal-feature-card card-primary"> <!-- Changed from accent to primary for variety -->
                                    <div class="surreal-icon-container bg-gradient-to-br from-primary/20 to-primary/5 shadow-lg shadow-primary/10">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-git-compare-arrows">
                                            <circle cx="5" cy="6" r="3"></circle>
                                            <path d="M12 6h5a2 2 0 0 1 2 2v7"></path>
                                            <path d="m15 9-3-3 3-3"></path>
                                            <circle cx="19" cy="18" r="3"></circle>
                                            <path d="M12 18H7a2 2 0 0 1-2-2V9"></path>
                                            <path d="m9 15 3 3-3 3"></path>
                                        </svg>
                                    </div>
                                    <div class="surreal-content">
                                        <h3>Save & Compare</h3>
                                        <p>Bookmark companies, save reports, and easily compare multiple organizations side by side.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="animate-fade-in-up animate-delay-500 h-full surreal-feature-card-wrapper">
                                <div class="surreal-feature-card card-secondary">
                                    <div class="surreal-icon-container bg-gradient-to-br from-secondary/20 to-secondary/5 shadow-lg shadow-secondary/10">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="var(--secondary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-newspaper">
                                            <path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"></path><path d="M18 14h-8"></path><path d="M15 18h-5"></path><path d="M10 6h8v4h-8V6Z"></path>
                                        </svg>
                                    </div>
                                    <div class="surreal-content">
                                        <h3>Latest News</h3>
                                        <p>Stay updated with the most recent company developments, press releases, and news articles.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="animate-fade-in-up animate-delay-600 h-full surreal-feature-card-wrapper">
                                <div class="surreal-feature-card card-accent">
                                     <div class="surreal-icon-container bg-gradient-to-br from-accent/20 to-accent/5 shadow-lg shadow-accent/10">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-check">
                                           <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><polyline points="16 11 18 13 22 9"></polyline>
                                        </svg>
                                    </div>
                                    <div class="surreal-content">
                                        <h3>Interview Preparation</h3>
                                        <p>Get tailored interview tips and questions based on company culture and values to help you stand out.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="flex justify-center mt-16 animate-fade-in-up animate-delay-700">
                            <a href="#search-section"> <!-- Changed to scroll to search section -->
                                <div class="relative inline-flex group">
                                    <div class="absolute -inset-0.5 bg-gradient-to-r from-primary via-secondary to-accent rounded-xl blur-lg opacity-50 group-hover:opacity-100 transition duration-200"></div>
                                    <button class="relative px-8 py-4 bg-white rounded-xl font-bold text-primary hover:text-dark transition">Explore All Features</button>
                                </div>
                            </a>
                        </div>
                    </div>
                </section>

                <section id="how-it-works" class="relative py-24 md:py-32 overflow-hidden">
                    <div class="absolute inset-0 bg-gradient-to-r from-secondary/5 to-primary/5 z-0"></div>
                    <div class="absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-primary/20 to-transparent"></div>
                    <div class="absolute bottom-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-primary/20 to-transparent"></div>
                    <div class="absolute -bottom-10 -right-10 w-72 h-72 rounded-full bg-secondary/5 blur-3xl z-0 animate-pulse-slow"></div>
                    <div class="container relative z-10 mx-auto px-4">
                        <div class="max-w-4xl mx-auto text-center mb-20">
                            <div class="animate-fade-in-up">
                                <span class="inline-block px-6 py-2 rounded-full bg-gradient-to-r from-secondary/30 to-secondary/10 text-secondary font-medium text-sm mb-6 shadow-md">How It Works</span>
                                <h2 class="text-4xl md:text-5xl font-bold mb-8 bg-gradient-to-r from-secondary to-primary bg-clip-text text-transparent">Our AI-powered research workflow</h2>
                                <p class="text-lg md:text-xl text-gray-700 leading-relaxed">Digg uses advanced AI to collect, analyze, and synthesize company information from thousands of public sources.</p>
                            </div>
                        </div>
                        <div class="relative">
                            <div class="hidden md:block absolute top-1/2 left-0 w-full h-1 bg-gradient-to-r from-primary via-secondary to-accent opacity-20 transform -translate-y-1/2 z-0"></div>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12 lg:gap-20 relative z-10">
                                <div class="relative group">
                                    <div class="absolute inset-0 bg-white rounded-xl blur opacity-80 group-hover:opacity-100 transition-opacity duration-300 -m-4"></div>
                                    <div class="relative text-center">
                                        <div class="animate-fade-in-up animate-delay-100">
                                            <div class="transform transition-transform duration-500 group-hover:scale-110">
                                                <div class="relative">
                                                    <div class="absolute inset-0 rounded-full bg-primary blur-md opacity-20 group-hover:opacity-40 transition-all duration-500 group-hover:scale-125"></div>
                                                    <div class="w-32 h-32 rounded-full bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center mx-auto mb-8 relative shadow-xl shadow-primary/20">
                                                        <div class="w-28 h-28 rounded-full bg-white/90 backdrop-blur flex items-center justify-center">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search text-primary animate-pulse-soft">
                                                                <circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path>
                                                            </svg>
                                                        </div>
                                                    </div>
                                                    <div class="hidden md:block absolute top-1/2 left-full w-full h-4 transform -translate-y-1/2 z-0">
                                                        <div class="w-full h-1 bg-gradient-to-r from-primary to-secondary"></div>
                                                        <div class="absolute right-0 top-1/2 transform -translate-y-1/2">
                                                            <div class="w-3 h-3 rounded-full bg-secondary shadow-md"></div>
                                                        </div>
                                                    </div>
                                                    <div class="absolute -top-2 -right-2 w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center text-white font-bold text-lg shadow-lg">1</div>
                                                </div>
                                            </div>
                                            <h3 class="text-2xl font-bold mb-4 mt-6 text-primary how-it-works-step-title">
                                                <span>Search</span>
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">Simply search for a company or a startup by name and location.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="relative group">
                                    <div class="absolute inset-0 bg-white rounded-xl blur opacity-80 group-hover:opacity-100 transition-opacity duration-300 -m-4"></div>
                                    <div class="relative text-center">
                                        <div class="animate-fade-in-up animate-delay-300">
                                            <div class="transform transition-transform duration-500 group-hover:scale-110">
                                                <div class="relative">
                                                    <div class="absolute inset-0 rounded-full bg-secondary blur-md opacity-20 group-hover:opacity-40 transition-all duration-500 group-hover:scale-125"></div>
                                                    <div class="w-32 h-32 rounded-full bg-gradient-to-br from-secondary to-secondary/60 flex items-center justify-center mx-auto mb-8 relative shadow-xl shadow-secondary/20">
                                                        <div class="w-28 h-28 rounded-full bg-white/90 backdrop-blur flex items-center justify-center">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bot text-secondary animate-pulse-soft">
                                                                <path d="M12 8V4H8"></path><rect width="16" height="12" x="4" y="8" rx="2"></rect><path d="M2 14h2"></path><path d="M20 14h2"></path><path d="M15 13v2"></path><path d="M9 13v2"></path>
                                                            </svg>
                                                        </div>
                                                    </div>
                                                    <div class="hidden md:block absolute top-1/2 left-full w-full h-4 transform -translate-y-1/2 z-0">
                                                        <div class="w-full h-1 bg-gradient-to-r from-secondary to-accent"></div>
                                                        <div class="absolute right-0 top-1/2 transform -translate-y-1/2">
                                                            <div class="w-3 h-3 rounded-full bg-accent shadow-md"></div>
                                                        </div>
                                                    </div>
                                                    <div class="absolute -top-2 -right-2 w-10 h-10 rounded-full bg-gradient-to-br from-secondary to-secondary/80 flex items-center justify-center text-white font-bold text-lg shadow-lg">2</div>
                                                </div>
                                            </div>
                                            <h3 class="text-2xl font-bold mb-4 mt-6 text-secondary how-it-works-step-title">
                                                <span>AI Analysis</span>
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">Our AI engine gathers and analyzes data from multiple sources in real-time to create a comprehensive intelligence report.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="relative group">
                                    <div class="absolute inset-0 bg-white rounded-xl blur opacity-80 group-hover:opacity-100 transition-opacity duration-300 -m-4"></div>
                                    <div class="relative text-center">
                                        <div class="animate-fade-in-up animate-delay-500">
                                            <div class="transform transition-transform duration-500 group-hover:scale-110">
                                                <div class="relative">
                                                    <div class="absolute inset-0 rounded-full bg-accent blur-md opacity-20 group-hover:opacity-40 transition-all duration-500 group-hover:scale-125"></div>
                                                    <div class="w-32 h-32 rounded-full bg-gradient-to-br from-accent to-accent/60 flex items-center justify-center mx-auto mb-8 relative shadow-xl shadow-accent/20">
                                                        <div class="w-28 h-28 rounded-full bg-white/90 backdrop-blur flex items-center justify-center">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text text-accent animate-pulse-soft">
                                                                <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path>
                                                            </svg>
                                                        </div>
                                                    </div>
                                                    <div class="absolute -top-2 -right-2 w-10 h-10 rounded-full bg-gradient-to-br from-accent to-accent/80 flex items-center justify-center text-white font-bold text-lg shadow-lg">3</div>
                                                </div>
                                            </div>
                                            <h3 class="text-2xl font-bold mb-4 mt-6 text-accent how-it-works-step-title">
                                               <span>Review Results</span>
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">Get a detailed intelligence report with insights on company culture, strategy, and personalized interview preparation tips.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-24 relative animate-fade-in-up animate-delay-700">
                            <div class="absolute -inset-1.5 bg-gradient-to-r from-primary via-secondary to-accent rounded-2xl blur-lg opacity-30 group-hover:opacity-100 transition duration-200"></div>
                            <div class="relative max-w-5xl mx-auto rounded-xl overflow-hidden shadow-2xl border border-white/20">
                                <div class="absolute inset-0 bg-gradient-to-tr from-black/40 to-black/10 z-10"></div>
                                <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8ZGFzaబోర్డ్fGVufDB8fDB8fHww&auto=format&fit=crop&w=1200&q=80" alt="Digg platform dashboard" class="w-full h-auto transform hover:scale-105 transition-transform duration-700 ease-in-out" onerror="this.onerror=null;this.src='https://placehold.co/1200x675/eeeeee/cccccc?text=Dashboard+Preview';">
                                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent z-20 p-6 text-white">
                                    <h4 class="text-xl font-bold mb-2">Comprehensive Company Reports</h4>
                                    <p class="opacity-90">Get detailed insights about any company's culture, values, and interview process</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="py-16 md:py-24 bg-primary text-white">
                    <div class="container mx-auto px-4">
                        <div class="max-w-4xl mx-auto text-center mb-16 animate-fade-in-up">
                            <h2 class="text-3xl md:text-4xl font-bold mb-6">Helping job seekers make better decisions</h2>
                            <p class="text-lg opacity-90">Our platform provides comprehensive intelligence on thousands of companies and startups.</p>
                        </div>
                         
                        </div>
                    </div>
                </section>
                
                <section class="py-16 md:py-24 bg-light">
                    <div class="container mx-auto px-4">
                        <div class="max-w-5xl mx-auto bg-white rounded-digg shadow-digg overflow-hidden animate-fade-in-up">
                            <div class="flex flex-col md:flex-row">
                                <div class="md:w-1/2 p-8 md:p-12">
                                    <span class="inline-block px-4 py-1 rounded-full bg-primary/10 text-primary font-medium text-sm mb-4">Get Started</span>
                                    <h2 class="text-3xl font-bold mb-6">Start making informed career decisions today</h2>
                                    <p class="text-gray-700 mb-8">Join thousands of professionals who use Digg to research companies, prepare for interviews, and find their perfect match.</p>
                                    <div class="flex flex-col sm:flex-row gap-4">
                                        
                                        <a href="javascript:void(0);" id="nav-view-companies-cta"> <button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 border bg-background hover:text-accent-foreground h-11 rounded-md px-8 border-primary text-primary hover:bg-primary/5 font-medium transition-colors w-full sm:w-auto">View Companies</button>
                                        </a>
                                    </div>
                                </div>
                                <div class="md:w-1/2 bg-gray-100 flex items-center justify-center p-8">
                                    <img src="https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8dGVhbSUyMGRpc2N1c3Npb258ZW58MHx8MHx8&auto=format&fit=crop&w=800&q=60" alt="Team discussing career options" class="rounded-digg shadow-digg w-full h-auto" onerror="this.onerror=null;this.src='https://placehold.co/800x600/e2e8f0/94a3b8?text=Team+Discussion';">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>

            <footer class="bg-dark text-white pt-16 pb-8 no-print">
                <div class="container mx-auto px-4">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-8 pb-12 border-b border-gray-700">
                        <div>
                            <a href="/" class="flex items-center mb-6">
                                <div class="flex items-center">
                                    <div class="mr-2 w-8 h-8">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-full h-full">
                                            <path fill="var(--accent)" d="M12 2L2 12l10 10 10-10L12 2zM12 18L6 12l6-6 6 6z"></path>
                                        </svg>
                                    </div>
                                    <span class="font-bold text-2xl text-white">Digg</span>
                                </div>
                            </a>
                            <p class="text-gray-400 mb-6">AI-powered company research platform for job seekers making informed career decisions.</p>
                            <div class="flex space-x-4">
                                <a href="#" class="text-gray-400 hover:text-white transition-colors" aria-label="Twitter"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg></a>
                                <a href="#" class="text-gray-400 hover:text-white transition-colors" aria-label="LinkedIn"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a>
                                <a href="#" class="text-gray-400 hover:text-white transition-colors" aria-label="Facebook"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></a>
                                <a href="#" class="text-gray-400 hover:text-white transition-colors" aria-label="Instagram"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913a5.885 5.885 0 001.384 2.126A5.868 5.868 0 004.14 23.37c.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558a5.898 5.898 0 002.126-1.384 5.86 5.86 0 001.384-2.126c.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913a5.89 5.89 0 00-1.384-2.126A5.847 5.847 0 0019.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227a3.81 3.81 0 01-.899 1.382 3.744 3.744 0 01-1.38.896c-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421a3.716 3.716 0 01-1.379-.899 3.644 3.644 0 01-.9-1.38c-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678a6.162 6.162 0 100 12.324 6.162 6.162 0 100-12.324zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405a1.441 1.441 0 01-2.88 0 1.44 1.44 0 012.88 0z"></path></svg></a>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold text-lg mb-4">Platform</h4>
                            <ul class="space-y-2">
                                <li><a href="javascript:void(0);" id="footer-nav-search-companies" class="text-gray-400 hover:text-white transition-colors">Search Companies</a></li>
                                <li><a href="javascript:void(0);" id="footer-nav-company-profiles" class="text-gray-400 hover:text-white transition-colors">Company Profiles</a></li>
                                <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Interview Preparation</a></li>
                                <li><a href="/profile" class="text-gray-400 hover:text-white transition-colors">Saved Companies</a></li>
                                <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Data Sources</a></li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-lg mb-4">Company</h4>
                            <ul class="space-y-2">
                                <li><a href="#" class="text-gray-400 hover:text-white transition-colors">About Us</a></li>
                                <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Contact Us</a></li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-lg mb-4">Legal</h4>
                            <ul class="space-y-2">
                                <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Terms of Service</a></li>
                                <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Privacy Policy</a></li>
                                <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Cookie Policy</a></li>

                            </ul>
                        </div>
                    </div>
                    <div class="mt-8 flex flex-col md:flex-row justify-between items-center">
                        <p class="text-gray-400 text-sm mb-4 md:mb-0">© 2025 Digg, Inc. All rights reserved.</p>
                        <div class="flex space-x-6">
                            <a href="#" class="text-gray-400 hover:text-white transition-colors text-sm">Terms</a>
                            <a href="#" class="text-gray-400 hover:text-white transition-colors text-sm">Privacy</a>
                            <a href="#" class="text-gray-400 hover:text-white transition-colors text-sm">Cookies</a>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <!-- PDF Loading Overlay -->
    <div id="pdfLoadingOverlay" class="hidden">
        <div id="pdfLoadingContent">
            <div class="spinner"></div>
            <p class="text-lg font-medium">Generating PDF, please wait...</p>
        </div>
    </div>

    <script>
        // This script is now a regular script, not a module
        (function() {
            // Basic script for mobile menu toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('mobile-menu-hidden');
                    mobileMenu.classList.toggle('mobile-menu-visible');
                });
            }

            // Scroll-triggered animations for general elements
            const animatedElements = document.querySelectorAll('.animate-fade-in-up');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-visible');
                    }
                });
            }, {
                threshold: 0.1
            });

            animatedElements.forEach(el => {
                observer.observe(el);
            });

            // Search Tips Animation
            const tipsContainer = document.getElementById('search-tips-container');
            const tipItems = document.querySelectorAll('.search-tip-item');
            const searchInputGlobal = document.getElementById('company_search_input'); 

            function showTips() {
                if (tipsContainer && !tipsContainer.classList.contains('tips-visible')) {
                    tipsContainer.classList.add('tips-visible');
                    tipItems.forEach((item, index) => {
                        setTimeout(() => {
                            item.classList.add('tip-visible');
                        }, 150 * index);
                    });
                }
            }
            
            setTimeout(showTips, 1200); 

            if(searchInputGlobal) {
                searchInputGlobal.addEventListener('focus', showTips);
            }

            // Navigation Scroll Logic
            function scrollToElement(elementId, isSearchInput = false) {
                const targetElement = document.getElementById(elementId);
                if (targetElement) {
                    const elementToScrollTo = isSearchInput ? document.getElementById('search-section') || targetElement : targetElement;
                    elementToScrollTo.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    
                    if (isSearchInput && searchInputGlobal) { 
                        setTimeout(() => { 
                             searchInputGlobal.focus(); 
                        }, 500); 
                    }
                    if (mobileMenu && mobileMenu.classList.contains('mobile-menu-visible')) {
                        mobileMenu.classList.remove('mobile-menu-visible');
                        mobileMenu.classList.add('mobile-menu-hidden');
                    }
                } else {
                    console.warn(`Element with ID "${elementId}" not found for scrolling.`);
                }
            }

            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const href = this.getAttribute('href');
                    if (href.startsWith('#') && href.length > 1) { 
                        const targetId = href.substring(1);
                        const targetElement = document.getElementById(targetId);
                        if (targetElement) {
                            e.preventDefault();
                            scrollToElement(targetId);
                        }
                    }
                });
            });
            
            document.getElementById('nav-companies-desktop')?.addEventListener('click', (e) => {
                e.preventDefault();
                scrollToElement('company_search_input', true);
            });
             document.getElementById('nav-get-started-desktop-link')?.addEventListener('click', (e) => { 
                e.preventDefault();
                scrollToElement('company_search_input', true);
            });
            document.getElementById('nav-companies-mobile')?.addEventListener('click', (e) => {
                e.preventDefault();
                scrollToElement('company_search_input', true);
            });
            document.getElementById('nav-features-mobile')?.addEventListener('click', (e) => { 
                 if (mobileMenu && mobileMenu.classList.contains('mobile-menu-visible')) {
                    mobileMenu.classList.remove('mobile-menu-visible');
                    mobileMenu.classList.add('mobile-menu-hidden');
                }
            });
            document.getElementById('nav-how-it-works-mobile')?.addEventListener('click', (e) => { 
                 if (mobileMenu && mobileMenu.classList.contains('mobile-menu-visible')) {
                    mobileMenu.classList.remove('mobile-menu-visible');
                    mobileMenu.classList.add('mobile-menu-hidden');
                }
            });
            document.getElementById('nav-get-started-mobile')?.addEventListener('click', (e) => {
                e.preventDefault();
                scrollToElement('company_search_input', true);
            });
            document.getElementById('nav-view-companies-cta')?.addEventListener('click', (e) => {
                e.preventDefault();
                scrollToElement('company_search_input', true);
            });
            
            document.getElementById('footer-nav-search-companies')?.addEventListener('click', (e) => {
                e.preventDefault();
                scrollToElement('company_search_input', true);
            });
            document.getElementById('footer-nav-company-profiles')?.addEventListener('click', (e) => {
                e.preventDefault();
                scrollToElement('company_search_input', true);
            });
            
            // --- LLM INTEGRATION SCRIPT ---

            const companySearchForm = document.getElementById('companySearchForm');
            const searchResultsContainer = document.getElementById('searchResultsContainer');
            const searchResultsContent = document.getElementById('searchResultsContent');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const closeResultsButton = document.getElementById('closeResultsButton');
            const saveSinglePdfButton = document.getElementById('saveSinglePdfButton');

            const companyComparisonForm = document.getElementById('companyComparisonForm');
            const company1CompareInput = document.getElementById('company1_compare_input');
            const company2CompareInput = document.getElementById('company2_compare_input');
            const comparisonLoadingIndicator = document.getElementById('comparisonLoadingIndicator');
            const comparisonResultsContainer = document.getElementById('comparisonResultsContainer');
            const comparisonAccordionContainer = document.getElementById('comparisonAccordionContainer');
            const closeComparisonButton = document.getElementById('closeComparisonButton');

            const pdfLoadingOverlay = document.getElementById('pdfLoadingOverlay');
            const pdfLoadingContent = document.getElementById('pdfLoadingContent');

            function formatText(text, defaultText = '<span class="data-na">N/A</span>') {
                if (text && typeof text === 'string') {
                    const sanitizedText = text.replace(/&/g, '&amp;')
                                             .replace(/</g, '&lt;')
                                             .replace(/>/g, '&gt;')
                                             .replace(/"/g, '&#039;');
                    return sanitizedText.replace(/\n/g, '<br>');
                }
                return defaultText;
            }

            let diggLogoPngDataUri = '';

            async function getDiggLogoPngDataUri() {
                return new Promise((resolve, reject) => {
                    const svgString = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="#FF5757" d="M12 2L2 12l10 10 10-10L12 2zM12 18L6 12l6-6 6 6z"></path></svg>`;
                    const img = new Image();
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const size = 24;
                        canvas.width = size;
                        canvas.height = size;
                        const ctx = canvas.getContext('2d');
                        ctx.drawImage(img, 0, 0, size, size);
                        try {
                            const pngDataUrl = canvas.toDataURL('image/png');
                            console.log("[PDF] SVG converted to PNG Data URL successfully.");
                            resolve(pngDataUrl);
                        } catch (e) {
                            console.error("[PDF] Error converting canvas to PNG data URL:", e);
                            reject(e);
                        }
                    };
                    img.onerror = (e) => {
                        console.error("[PDF] Error loading SVG as image:", e);
                        reject(new Error("Failed to load SVG for conversion."));
                    };
                    img.src = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svgString);
                });
            }

            getDiggLogoPngDataUri().then(dataUrl => {
                diggLogoPngDataUri = dataUrl;
            }).catch(error => {
                console.error("[PDF] Could not get PNG data URI for logo:", error);
            });


            async function generatePdf(element, filename) {
                console.log(`[PDF] Starting PDF generation for: ${filename}`);
                if (pdfLoadingOverlay) pdfLoadingOverlay.classList.add('visible');

                const clonedElement = element.cloneNode(true);
                clonedElement.querySelectorAll('.no-print').forEach(el => {
                    el.style.display = 'none';
                });

                const options = {
                    margin: [15, 10, 15, 10],
                    filename: filename,
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { 
                        scale: 2, 
                        logging: false,
                        useCORS: true 
                    },
                    jsPDF: { 
                        unit: 'mm', 
                        format: 'a4', 
                        orientation: 'portrait' 
                    }
                };

                try {
                    const pdf = await html2pdf().from(clonedElement).set(options).toPdf().get('pdf');
                    console.log("[PDF] PDF object obtained, adding watermarks, headers/footers.");

                    const totalPages = pdf.internal.getNumberOfPages();
                    const pageWidth = pdf.internal.pageSize.getWidth();
                    const pageHeight = pdf.internal.pageSize.getHeight();
                    const logoHeight = 8; 
                    const logoWidth = 8; 

                    for (let i = 1; i <= totalPages; i++) {
                        pdf.setPage(i);
                        
                        pdf.saveGraphicsState();
                        pdf.setFont("helvetica", "bold");
                        pdf.setFontSize(60);
                        pdf.setTextColor(220, 220, 220);

                        if (pdf.setGState) {
                            const GState = new pdf.GState({opacity: 0.15}); 
                            pdf.setGState(GState);
                        } else {
                            console.warn("[PDF] pdf.setGState is not available. Watermark opacity might not work as expected.");
                        }
                        
                        const watermarkText = "Digg";
                        const textAngle = -45; 
                        const centerX = pageWidth / 2;
                        const centerY = pageHeight / 2;

                        pdf.setLanguage("en"); 
                        pdf.text(watermarkText, centerX, centerY, { angle: textAngle, align: 'center' });
                        
                        pdf.restoreGraphicsState(); 
                        
                        pdf.setFont("helvetica", "bold");
                        pdf.setFontSize(10);
                        pdf.setTextColor(80, 80, 80); 

                        const diggHeaderText = "Digg";
                        const headerTextWidth = pdf.getStringUnitWidth(diggHeaderText) * pdf.internal.getFontSize() / pdf.internal.scaleFactor;
                        const headerTextX = pageWidth - options.margin[3] - headerTextWidth; 
                        const headerTextY = options.margin[0] / 2 + (pdf.internal.getFontSize() / (2 * pdf.internal.scaleFactor)); 
                        
                        pdf.text(diggHeaderText, headerTextX, headerTextY, {baseline: 'middle'});
                        
                        if (diggLogoPngDataUri) {
                            const logoX = headerTextX - logoWidth - 2; 
                            const logoY = headerTextY - (logoHeight / 2) ; 
                            pdf.addImage(diggLogoPngDataUri, 'PNG', logoX, logoY, logoWidth, logoHeight);
                        } else {
                            console.warn("[PDF] PNG logo data URI not available for header, skipping logo on page " + i);
                        }
                        
                        pdf.setFont("helvetica", "normal");
                        pdf.setFontSize(8);
                        pdf.setTextColor(150, 150, 150); 
                        const pageNumberText = `Page ${i} of ${totalPages}`;
                        const pageNumberTextWidth = pdf.getStringUnitWidth(pageNumberText) * pdf.internal.getFontSize() / pdf.internal.scaleFactor;
                        const pageNumberX = pageWidth - options.margin[3] - pageNumberTextWidth;
                        const pageNumberY = pageHeight - options.margin[2] / 2; 
                        
                        pdf.text(pageNumberText, pageNumberX, pageNumberY, {baseline: 'middle'});
                    }
                    console.log("[PDF] PDF generation complete with watermarks, headers, and footers. Saving file.");
                    pdf.save(filename);
                } catch (error) {
                    console.error("[PDF] Error during PDF generation:", error);
                    const customAlert = document.createElement('div');
                    customAlert.className = 'fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-[1000]';
                    customAlert.innerHTML = `
                        <div class="bg-white p-6 rounded-lg shadow-xl max-w-sm w-full text-center">
                            <p class="text-lg font-semibold mb-4 text-red-600">Error generating PDF.</p>
                            <p class="text-sm text-gray-700 mb-4">An error occurred: ${error.message}. Please try again.</p>
                            <button id="customAlertClosePdfError" class="px-5 py-2 bg-primary text-white rounded-md hover:bg-primary-light transition-colors">OK</button>
                        </div>
                    `;
                    document.body.appendChild(customAlert);
                    document.getElementById('customAlertClosePdfError')?.addEventListener('click', () => {
                        if (customAlert.parentNode) {
                           document.body.removeChild(customAlert);
                        }
                    });
                } finally {
                    if (pdfLoadingOverlay) pdfLoadingOverlay.classList.remove('visible');
                    console.log("[PDF] PDF generation process finished (success or error).");
                }
            }


            async function fetchReportData(companyName) {
                 // **MODIFIED: The API call now goes to our secure serverless function**
                const apiUrl = `/.netlify/functions/get-report`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ companyName: companyName }), // Send the company name in the request body
                    });

                    if (!response.ok) {
                        const errorResult = await response.json();
                        throw new Error(errorResult.error || `Request failed with status ${response.status}`);
                    }
                    
                    const result = await response.json();

                    if (result.candidates && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {
                        const jsonString = result.candidates[0].content.parts[0].text;
                        try {
                            const reportData = JSON.parse(jsonString);
                            return { success: true, data: reportData };
                        } catch (parseError) {
                             console.error(`Failed to parse Gemini response for ${companyName} as JSON:`, parseError, "\nRaw response:", jsonString);
                             return { success: false, error: "Invalid JSON response from AI", raw: jsonString };
                        }
                    } else {
                         console.error(`Gemini API Error for ${companyName}:`, result);
                        let errorMessage = `Could not retrieve information for "${companyName}".`;
                        if (result.promptFeedback && result.promptFeedback.blockReason) {
                            errorMessage += ` Reason: ${result.promptFeedback.blockReason}.`;
                        } else if (result.error) {
                            errorMessage += ` API Error: ${result.error.message} (Code: ${result.error.code})`;
                        }
                        return { success: false, error: errorMessage };
                    }
                } catch (error) {
                    console.error(`Error fetching report for ${companyName}:`, error);
                    return { success: false, error: error.message };
                }
            }

            function renderSingleReport(targetElement, reportData, companyName) {
                 if (!targetElement) return;
                 let htmlOutput = `<h4 class="report-main-title">${formatText(reportData.company_name_researched, companyName)}</h4>`;

                htmlOutput += `<div class="report-section"><h5 class="section-title">Executive Summary</h5><p>${formatText(reportData.executive_summary)}</p></div>`;
                
                if (reportData.corporate_fundamentals) {
                    const cf = reportData.corporate_fundamentals;
                    htmlOutput += `<div class="report-section"><h5 class="section-title">Corporate Fundamentals</h5>`;
                    htmlOutput += `<h6 class="subsection-title">Company Overview</h6><p>${formatText(cf.company_overview)}</p>`;
                    htmlOutput += `<h6 class="subsection-title">Size & Scale</h6><p>${formatText(cf.size_scale)}</p>`;
                    htmlOutput += `<h6 class="subsection-title">Market Position</h6><p>${formatText(cf.market_position)}</p>`;
                    htmlOutput += `<h6 class="subsection-title">Ownership & Structure</h6><p>${formatText(cf.ownership_structure)}</p></div>`;
                }
                
                // You can add the rest of the sections here following the same pattern
                 targetElement.innerHTML = htmlOutput;
            }

            function renderReportSection(reportData, sectionKey) {
                let content = '';
                const data = reportData[sectionKey];

                if (data) {
                    if (Array.isArray(data)) { // For recent_news_developments
                        content += `<ul>`;
                        data.forEach(item => {
                            content += `<li>${formatText(item.news_item_summary)}`;
                            if (item.source_link && item.source_link !== "N/A") {
                                content += ` <a href="${item.source_link}" target="_blank" rel="noopener noreferrer" class="source-link">[Source]</a>`;
                            }
                            content += `</li>`;
                        });
                        content += `</ul>`;
                    } else if (typeof data === 'object' && data !== null) { // For main sections with sub-objects
                        for (const key in data) {
                            if (data.hasOwnProperty(key)) {
                                const subTitle = key.replace(/_/g, ' ').split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
                                content += `<h6 class="subsection-title">${subTitle}</h6><p>${formatText(data[key])}</p>`;
                            }
                        }
                    } else if (typeof data === 'string') {
                        content += `<p>${formatText(data)}</p>`;
                    } else {
                        content += `<p class="data-na">N/A</p>`;
                    }
                } else {
                    content += `<p class="data-na">N/A</p>`;
                }
                return content;
            }

            function createAccordionItem(title, contentHtml) {
                const accordionItem = document.createElement('div');
                accordionItem.className = 'accordion-item rounded-digg shadow-sm mb-4';
                accordionItem.innerHTML = `
                    <div class="accordion-header" role="button" aria-expanded="false" tabindex="0">
                        <span>${title}</span>
                        <svg class="arrow-icon w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="accordion-content">
                        ${contentHtml}
                    </div>
                `;
                accordionItem.querySelector('.accordion-header').addEventListener('click', function() {
                    this.classList.toggle('active');
                    const content = this.nextElementSibling;
                    content.classList.toggle('open');
                });
                return accordionItem;
            }


            if (companySearchForm) {
                companySearchForm.addEventListener('submit', async function(event) {
                    event.preventDefault();
                    if (!searchInputGlobal) return; 
                    const companyName = searchInputGlobal.value.trim();
                    if (!companyName) return;

                    if (loadingIndicator) loadingIndicator.classList.remove('hidden');
                    if (searchResultsContainer) searchResultsContainer.classList.add('hidden');
                    if (comparisonResultsContainer) comparisonResultsContainer.classList.add('hidden'); 
                    if (tipsContainer) tipsContainer.classList.add('hidden');
                    
                    const result = await fetchReportData(companyName);
                    if (loadingIndicator) loadingIndicator.classList.add('hidden');
                    
                    if (searchResultsContent) {
                        if (result.success) {
                            renderSingleReport(searchResultsContent, result.data, companyName);
                            searchResultsContainer.classList.remove('hidden');
                        } else {
                            searchResultsContent.innerHTML = `<div class="report-section"><h4 class="report-main-title">${formatText(companyName)}</h4><p class="text-red-600 font-bold">${result.error || 'Failed to fetch report.'}</p>${result.raw ? `<pre class="whitespace-pre-wrap bg-gray-100 p-3 rounded-md text-sm">${formatText(result.raw)}</pre>` : ''}</div>`;
                            searchResultsContainer.classList.remove('hidden');
                        }
                    }
                });
            }
            
            if (companyComparisonForm) {
                companyComparisonForm.addEventListener('submit', async function(event) {
                    event.preventDefault();
                    if (!company1CompareInput || !company2CompareInput) return; 
                    const company1Name = company1CompareInput.value.trim();
                    const company2Name = company2CompareInput.value.trim();

                    if (!company1Name || !company2Name) {
                        const customAlert = document.createElement('div');
                        customAlert.className = 'fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-[1000]';
                        customAlert.innerHTML = `
                            <div class="bg-white p-6 rounded-lg shadow-xl max-w-sm w-full text-center">
                                <p class="text-lg font-semibold mb-4 text-gray-800">Please enter names for both companies to compare.</p>
                                <button id="customAlertCloseCompare" class="px-5 py-2 bg-primary text-white rounded-md hover:bg-primary-light transition-colors">OK</button>
                            </div>
                        `;
                        document.body.appendChild(customAlert);
                        document.getElementById('customAlertCloseCompare')?.addEventListener('click', () => {
                             if (customAlert.parentNode) { 
                                document.body.removeChild(customAlert);
                             }
                        });
                        return;
                    }

                    if (comparisonLoadingIndicator) comparisonLoadingIndicator.classList.remove('hidden');
                    if (comparisonResultsContainer) comparisonResultsContainer.classList.add('hidden');
                    if (searchResultsContainer) searchResultsContainer.classList.add('hidden'); 
                    if (tipsContainer) tipsContainer.classList.add('hidden');
                    if (comparisonAccordionContainer) comparisonAccordionContainer.innerHTML = ''; 
                    
                    let report1Data, report2Data;

                    try {
                        const [result1, result2] = await Promise.all([
                            fetchReportData(company1Name),
                            fetchReportData(company2Name)
                        ]);

                         if (result1.success) {
                            report1Data = result1.data;
                        } else {
                            console.error(`Error fetching data for Company 1: ${result1.error}`);
                            comparisonAccordionContainer.innerHTML += `<div class="p-4 bg-red-100 text-red-700 rounded-md mb-2">Error loading report for ${company1Name}: ${result1.error}</div>`;
                        }

                        if (result2.success) {
                            report2Data = result2.data;
                        } else {
                            console.error(`Error fetching data for Company 2: ${result2.error}`);
                            comparisonAccordionContainer.innerHTML += `<div class="p-4 bg-red-100 text-red-700 rounded-md mb-2">Error loading report for ${company2Name}: ${result2.error}</div>`;
                        }

                        if (report1Data && report2Data) {
                            const sections = [
                                { key: 'executive_summary', title: 'Executive Summary' },
                                { key: 'corporate_fundamentals', title: 'Corporate Fundamentals' },
                                { key: 'strategic_direction_outlook', title: 'Strategic Direction & Outlook' },
                                { key: 'organizational_culture_work_environment', title: 'Organizational Culture & Work Environment' },
                                { key: 'talent_landscape_hiring', title: 'Talent Landscape & Hiring' },
                                { key: 'risk_assessment_considerations', title: 'Risk Assessment & Considerations' },
                                { key: 'candidate_alignment_interview_prep', title: 'Candidate Alignment & Interview Preparation' },
                                { key: 'recent_news_developments', title: 'Recent News & Developments' },
                                { key: 'information_integrity_statement', title: 'Information Integrity Statement' },
                            ];

                            sections.forEach(section => {
                                const contentHtml = `
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-left">
                                        <div class="company-comparison-column">
                                            <h6>${formatText(report1Data.company_name_researched)}</h6>
                                            ${renderReportSection(report1Data, section.key)}
                                        </div>
                                        <div class="company-comparison-column">
                                            <h6>${formatText(report2Data.company_name_researched)}</h6>
                                            ${renderReportSection(report2Data, section.key)}
                                        </div>
                                    </div>
                                `;
                                comparisonAccordionContainer.appendChild(createAccordionItem(section.title, contentHtml));
                            });
                        }

                    } catch (error) {
                        console.error("Error in comparison process:", error);
                        comparisonAccordionContainer.innerHTML = `<p class="text-red-600">An error occurred during the comparison process: ${error.message}</p>`;
                    } finally {
                        if (comparisonLoadingIndicator) comparisonLoadingIndicator.classList.add('hidden');
                        if (comparisonResultsContainer) { 
                            comparisonResultsContainer.classList.remove('hidden'); 
                            comparisonResultsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    }
                });
            }

            if (closeResultsButton) {
                closeResultsButton.addEventListener('click', () => {
                    if (searchResultsContainer) searchResultsContainer.classList.add('hidden');
                    if (searchInputGlobal) searchInputGlobal.value = ''; 
                    showTips(); 
                });
            }

            if (closeComparisonButton) {
                closeComparisonButton.addEventListener('click', () => {
                    if (comparisonResultsContainer) comparisonResultsContainer.classList.add('hidden');
                    if (company1CompareInput) company1CompareInput.value = '';
                    if (company2CompareInput) company2CompareInput.value = '';
                    showTips();
                });
            }

            if (saveSinglePdfButton) {
                saveSinglePdfButton.addEventListener('click', () => {
                    console.log("[PDF] Single PDF button clicked.");
                    const companyName = searchInputGlobal?.value.trim() || 'Company_Report';
                    const filename = `${companyName.replace(/[^a-zA-Z0-9]/g, '_')}_Report.pdf`;
                    if (searchResultsContent) { 
                        generatePdf(searchResultsContent, filename);
                    } else {
                        console.error("[PDF] searchResultsContent element not found for single PDF generation.");
                    }
                });
            }

        })();
    </script>
</body>
</html>
